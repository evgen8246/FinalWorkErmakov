# Чек-лист для тестирования хранимых процедур проката автомобилей

## Общая информация о тестировании

| Параметр               | Значение                                         |
|------------------------|--------------------------------------------------|
| Проект                 | База данных CarHire_SatPA311                     |
| Цель проверки          | Проверка функционала выдачи результатов запросов |
| Индетификатор ID       | ID.1                                             |
| Требование             | REQ1                                             |
| Дата проведения        | 20.04.2025                                       |
| Исполнитель            | Ермаков.Е.                                       |
| Среда тестирования     | PC, Windows 11.24H, Visual Studio Code v1.99.3(user setup) |


### 1. AllRentalNumberPlate - факты проката по госномеру
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Запрос с номером "С167РК" возвращает данные                          | PASS      |
| Запрос с номером "Т306РК" возвращает данные                          | PASS      |
| Запрос с номером "О169РК" возвращает данные                          | PASS      |
| Запрос с несуществующим номером возвращает пустой результат          | PASS      |

### 2. AllRentalBrand - факты проката по модели/бренду
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Запрос "Toyota Camry" возвращает данные                              | PASS      |
| Запрос "Volkswagen Polo" возвращает данные                           | PASS      |
| Запрос "Skoda Roomster" возвращает данные                            | PASS      |
| Запрос несуществующей модели возвращает пустой результат             | PASS      |
| Проверка регистронезависимости поиска                                | PASS      |

### 3. AllInfoAutoNumberPlate - информация об автомобиле по номеру
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Запрос "С167РК" возвращает полные данные авто                        | PASS      |
| Запрос "Т306РК" возвращает полные данные авто                        | PASS      |
| Запрос "О169РК" возвращает полные данные авто                        | PASS      |
| Проверка наличия всех требуемых полей в результате                   | PASS      |

### 4. InfoClintPasport - информация о клиентах по паспорту
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Запрос "12 21 345671" возвращает данные клиента                      | PASS      |
| Запрос "12 21 123122" возвращает данные клиента                      | PASS      |
| Запрос "09 19 002165" возвращает данные клиента                      | PASS      |
| Неверный формат паспорта вызывает ошибку                             | FAIL      |

### 5. InfoRentalDays - прокаты за период
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Период 2024-09-01 - 2024-10-06 возвращает данные                     | PASS      |
| Период 2024-10-06 - 2024-11-02 возвращает данные                     | PASS      |
| Период 2024-10-31 - 2024-11-02 возвращает данные                     | PASS      |
| Проверка граничных значений (включены ли крайние даты)               | PASS      |
| Обратный интервал (когда MinDate > MaxDate) вызывает ошибку          | FAIL      |

### 6. CalcRentalCosts - расчет стоимости прокатов
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Возвращает данные для всех прокатов                                  | PASS      |
| Проверка правильности расчетов (цена * дни)                          | PASS      |
| Проверка обработки NULL значений                                     | PASS      |

### 7. ClientRentalStats - статистика по клиентам
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Возвращает данные для всех клиентов                                  | PASS      |
| Проверка правильности подсчета количества прокатов                   | PASS      |
| Проверка правильности подсчета суммарных дней                        | PASS      |
| Клиенты без прокатов отображаются с нулевыми значениями              | PASS      |

### 8. InfoCarRentalNumberPlateAmountDuration - информация по прокатам авто
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Запрос "С167РК" возвращает данные                                    | PASS      |
| Запрос "Т306РК" возвращает данные                                    | PASS      |
| Запрос "О169РК" возвращает данные                                    | PASS      |
| Проверка наличия полей: кол-во прокатов, суммарные дни               | PASS      |

### 9. INSERTRentCarDays - добавление проката
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Добавление с параметрами (5,10,'2024-10-01',3) работает              | PASS      |
| Попытка добавить прокат с несуществующим clientId/carId вызывает ошибку | PASS   |
| Дата из будущего вызывает предупреждение                             | FAIL      |

### 10. UPDATERentCarDays - изменение проката
| Тест                                                                 | Результат |
|----------------------------------------------------------------------|-----------|
| Обновление с параметрами (13,1,5,'2025-01-09',14) работает           | PASS      |
| Попытка обновить несуществующий ID вызывает ошибку                   | FAIL      |